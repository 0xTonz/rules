# é…ç½®åç§°: Egern é…ç½®
# é…ç½®ä½œè€…: Kirio
# æ›´æ–°æ—¶é—´: 24-08-23 00:00

# [ç«¯å£è®¾ç½®]
http_port: 8200      # HTTP  ä»£ç†ç«¯å£
socks_port: 8300     # SOCKS ä»£ç†ç«¯å£

# [å…¨å±€é…ç½®]
ipv6: false          # å¯ç”¨IPv6
compat_route: false  # å…¼å®¹æ¨¡å¼
hide_vpn_icon: false # å›¾æ ‡éšè—

# [å»¶è¿Ÿæµ‹è¯•]
direct_latency_test_url: http://taobao.com/
proxy_latency_test_url: http://www.apple.com/library/test/success.html

# [å¤–éƒ¨è¿æ¥]
allow_external_connections: false

# [TUNæ¨¡å¼]
vif_only: true

# [GEOè®¾ç½®]
geoip_db_url: https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
asn_db_url: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/GeoLite2-ASN.mmdb

# [DNSè®¾ç½®]
dns:
  bootstrap:
    - 233.5.5.5
    - 119.29.29.29
  upstreams:
    SecureDNS:
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
  forward:
    - proxy_rule_set:
        match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/cncidr.yaml
        value: system
    - proxy_rule_set:
        match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/direct.yaml
        value: system
    - wildcard:
        match: '*'
        value: SecureDNS
  public_ip_lookup_url: https://ifconfig.me/ip

# [ç­–ç•¥ç»„]
policy_groups:
- auto_test:
    name: ğ™ğ™¥ğ™šğ™šğ™™
    policies:
    - ğ™ğ™¡ğ™¤ğ™¬ğ™šğ™§
    flatten: true
    filter: æ–°åŠ å¡
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Want_Want_1.png
    hidden: true
- external:
    name: ğ™ğ™¡ğ™¤ğ™¬ğ™šğ™§
    type: select
    urls:
    - è®¢é˜…é“¾æ¥ # ğŸ§¸
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Alpha/Flower.png


# [åˆ†æµè§„åˆ™]
rules:

- rule_set:
    match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/direct.yaml
    policy: DIRECT
    
- rule_set:
    match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/cncidr.yaml
    policy: DIRECT
    
- rule_set:
    match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/telegram.yaml
    policy: ğ™ğ™¥ğ™šğ™šğ™™
    
- rule_set:
    match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/ChinaASN.yaml
    policy: DIRECT
    
- rule_set:
    match: https://raw.githubusercontent.com/0xTons/rules/master/Egern/lan.yaml
    policy: DIRECT
    
- geoip:
    match: CN
    policy: DIRECT
    
- default:
    policy: ğ™ğ™¥ğ™šğ™šğ™™


# [MITM]
mitm:
  enabled: true

# [æ¨¡å—]
modules:
- name: BoxJs
  url: https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule
  update_interval: 86400
  enabled: true
  
- name: ScriptHub
  url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.surge.sgmodule
  update_interval: 86400
  enabled: true
  
- name: Sub-Store
  url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Surge.sgmodule
  update_interval: 86400
  enabled: true
